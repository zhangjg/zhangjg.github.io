---
title : 漫畫統計學筆記之--史特吉斯公式
layout: default
tags  : [读书,数学]
---

## 史特吉斯公式 ##
在作統計的時候,往往使用直方圖來直觀的表示數據,以便人們可以對數據的分佈有一個大概而直觀的映像.要畫直方圖,第一個要解決的問題是要如何分組的問題,也就是數據劃分成幾組的問題,尤其是對一些統計量是連續的數值的時候.比如說,要做100個人的身高的直方圖,那麼我們該把調查的數據分成多少份呢?知道了要把數據分成多少分,那麼我們就可以知道從統計的最小值開始,每一組的值得範圍.__史特吉斯公式__就是爲解決這個問題而來的.以下是史特吉斯公式:

$$
n=1+log_{2} m  
$$

$$
w=\frac{max(X) - min(X)}{n}
$$

其中,n指的是應該把調查的結果分成多少個組,m指的是調查的樣本個數.w值得是每組的寬度,max(X)和min(X)分別指統計量的最大值和最小值.具體到上面說的100人身高的例子,樣本的個數m就是100,max(X)是100個身高數字中,最大的那個數值,min(X)是其中最小的數字.以上公式的第二個,比較容易理解,因爲直方圖中,高度是這個分組中包含的數據的個數,如果每組寬度一樣公式必然就是這個樣子.但是第一個公式爲什麼是這樣樣子呢?爲什麼m個數據要分成\\(1+log\_{2}m\\)組呢?其中的意義是什麼呢?或者說該如何理解他呢?

首先我們要理解\\(y=log\_{2}x\\)的意義.這是個對數函數,如果我們對對數函數的意義還是不很清楚的話,那麼我們知道對數運算的逆運算是指數運算,那麼從指數函數的角度看看是不是能更清除的理解其中的變量的關係.上面的對數運算,轉換成指數運算的話,就變成了\\(x=2^{y}\\).指數關係是比較容易說清除的,\\(a^{b}=\underbrace{a\times a ...\times a}\_{b個a}\\)的結果.比如\\(2^{3}=2\times 2 \times 2=8\\).那麼現在我們在來看看\\(log\_{2}n\\)的意思,比如說$log\_{2}8=3$這個3是什麼意思呢?如何用算術運算(加減乘除)得到這個3呢?用算术運算的到\\(log\_{2}8\\)的結果是這樣來的:用8除以2,然後看結果是不是等於1,如果不等於1,那麼繼續用商除以2,直到結果爲1停止,這個過程,除了幾次2,得到的結果就是多少.這裏的說法對於n大於1是成立的.對於n小於1的情況,計算\\(log\_{2}n\\)的過程是這樣的:用n乘以2,得到的結果如果等於1,停止,如果不等於1,繼續乘以2,最後看乘2次数m是多少.那麼結果就是-m.比如\\(log\_{2}\frac{1}{8}=-3\\),\\(\frac{1}{8}\times 2=\frac{1}{4},\frac{1}{4}\times 2=\frac{1}{2},\frac{1}{2}\times 2=1\\).所以\\(log\_{2}\frac{1}{8}=-3\\).

就統計來說,樣本的個數必然不會是分數的,而且一般情況是大於1的.那麼__史特吉斯公式__中比較難理解的部分,就應該適用於我們上面說的第一種的情況,對m除2,直到商爲1,記錄除了多少個2.這是函數\\(log\_{2}x\\)的數學的意義,那麼物理上該如何理解呢?

我們可以這樣想象,又一個長度爲m的繩子,現在規定,只允許通過對折來縮短長度,要讓繩子的長度縮短為1,那麼問,我們需要對折多少次呢?

我們達到目的需要對折的次數就是\\(log\_{2}m\\),這個公式非常的接近我們的__史特吉斯公式__了,那公式中的1又是怎麼來的呢?

如果我們要把繩子切割,從對折處切開,那麼就把繩子分乘了m份,每份的長度都是1.這樣作還不如一開始就按照1爲單位來分割.顯然__史特吉斯公式__不是作這個事情的.那麼史特吉斯作什麼事情呢?我們求組數是爲了確定組長的.怎麼確定的呢?__史特吉斯__是這樣來的,通過對摺,找到要達到單位1的長度需要對折的次數n,用這個n作為對繩子操作的次數,但是不是對折,而是把繩子拉直了用刀切割n次.對折次數是用來確定切割的次數的,而切割的次數,總是比分段的次數目多1,所以分段數目就乘了__史特吉斯公式的樣子__.

這就是我對__史特吉斯公式__的理解,不知道原來的史特吉斯當初提出這個經驗的公式是不是處於這樣的考慮的.也不知道我這樣的理解,對不對,歡迎瞭解情況的高人指點,在下不勝感激.

----
## 訂正#

2015-06-04

今天找到了一篇[文章](http://robjhyndman.com/papers/sturges.pdf "斯特吉斯公式的問題"),其中,解釋了斯特吉斯公式的意義.現在我把我對這篇文章的理解記錄如下:

對於大多數的統計來說,數據滿足自然分佈(也叫高斯分佈).但是高斯分佈是連續分佈,直方圖卻是離散的分佈.為了用離散的直方圖表示連續的分佈,就有了吉特吉斯公式.

我們知道高斯分佈,是兩遍低中間高的分佈.在數學中,選擇公式:\\(C\_{n}^{m}=\frac{n!}{m!\times (n-m)!}\\),當n固定的時候,m從0變化到n, \\(C\_{n}^{m}\\)的值也符合兩頭小中間大的特點.

因此,如果有k個區間,其中第i個區間含有\\(C\_{k-1}^{i}  (i \in [0,k-1])\\)個數據,共有數據為:

$$
 n=\sum\_{i=0}^{k-1} C\_{k-1}^{i}=\sum\_{i=0}^{k-1}\frac{(k-1)!}{i!\times(k-i-1)!}=2^{k-1}
$$

那麼對與n個數據,要分成k分,k的計算為:

$$
k=log_{2}n+1
$$

這就是斯特吉斯公式.

這裡有一個微妙的東西,為什麼\\(i \in [0,k-1]\\),而不是\\(i \in [1,k]\\)呢?這是有\\(C\_{k}^{i}\\)的與決定的,在這公式中,i的取值範圍就是[0,k].[0,k]共有k+1個值,所以如果需要有k個值,那麼就只能計算\\(\sum\_{i=0}^{k-1} C\_{k-1}^{i}\\).

最後,公式\\(n=2^{k}\\)也是k個元素的集合的子集的個數.
